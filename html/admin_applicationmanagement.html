<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TCP Admin - Application Management | Team Crazy Performance</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <link href='https://spoqa.github.io/spoqa-han-sans/css/SpoqaHanSansNeo.css' rel='stylesheet' type='text/css'>
    <style>
        :root {
            --primary-black: #0a0a0a;
            --secondary-gray: #1a1a1a;
            --light-gray: #2a2a2a;
            --accent-blue: #a8c5e6;
            --accent-purple: #c5a8e6;
            --accent-green: #a8e6c5;
            --accent-pink: #e6a8c5;
        }
        body {
            font-family: 'Spoqa Han Sans Neo', sans-serif;
            background-color: var(--primary-black);
            color: #ffffff;
        }
        .orbitron {
            font-family: 'Orbitron', sans-serif;
        }
        .gradient-text {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(168, 197, 230, 0.2);
        }
        .widget-card {
            background: linear-gradient(135deg, var(--secondary-gray), var(--light-gray));
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .sidebar {
            width: 260px;
            background: linear-gradient(180deg, var(--secondary-gray), var(--primary-black));
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease-in-out;
        }
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                position: fixed;
                z-index: 100;
                height: 100vh;
            }
            .sidebar.open {
                transform: translateX(0);
            }
        }
        .sidebar-link {
            display: flex;
            align-items: center;
            padding: 10px 16px;
            font-size: 0.875rem;
            color: #cbd5e1;
            border-radius: 0.5rem;
            transition: background-color 0.2s, color 0.2s;
        }
        .sidebar-link:hover {
            background-color: rgba(168, 197, 230, 0.1);
            color: #ffffff;
        }
        .sidebar-link i {
            width: 1.5rem;
            text-align: center;
        }
        .form-input {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #ffffff;
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            width: 100%;
            transition: all 0.3s ease;
        }
        .form-input:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 2px rgba(168, 197, 230, 0.2);
        }
        .btn-primary {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            color: #000;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(168, 197, 230, 0.3);
        }
        .btn-secondary {
            background: transparent;
            color: #ffffff;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            border: 1px solid rgba(255, 255, 255, 0.3);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-secondary:hover {
            border-color: var(--accent-blue);
            background: rgba(168, 197, 230, 0.1);
        }
        .btn-danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: #ffffff;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-danger:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(239, 68, 68, 0.3);
        }
        .btn-success {
            background: linear-gradient(135deg, #10b981, #059669);
            color: #ffffff;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-success:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);
        }
        .btn-warning {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: #ffffff;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-warning:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(245, 158, 11, 0.3);
        }
        .search-filter-card {
            background: linear-gradient(135deg, var(--light-gray), var(--secondary-gray));
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .table-row {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        .table-row:hover {
            background: rgba(168, 197, 230, 0.05);
        }
        .status-badge {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .status-pending {
            background: linear-gradient(135deg, #6b7280, #4b5563);
            color: #ffffff;
        }
        .status-reviewed {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            color: #ffffff;
        }
        .status-accepted {
            background: linear-gradient(135deg, #10b981, #059669);
            color: #ffffff;
        }
        .status-rejected {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: #ffffff;
        }
        .tech-tag {
            background: rgba(168, 197, 230, 0.2);
            color: var(--accent-blue);
            padding: 0.125rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.625rem;
            font-weight: 500;
            margin: 0.125rem;
            display: inline-block;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background: linear-gradient(135deg, var(--secondary-gray), var(--light-gray));
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }
        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: #ffffff;
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s ease;
            z-index: 10;
        }
        .close-modal:hover {
            color: var(--accent-blue);
        }
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #ffffff;
        }
        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }
        .pagination-btn {
            padding: 0.5rem 1rem;
            margin: 0 0.125rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: transparent;
            color: #ffffff;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .pagination-btn:hover {
            background: rgba(168, 197, 230, 0.1);
            border-color: var(--accent-blue);
        }
        .pagination-btn.active {
            background: var(--accent-blue);
            color: #000;
            border-color: var(--accent-blue);
        }
        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="bg-primary-black">
    <div class="flex min-h-screen">
        <aside id="sidebar" class="sidebar flex-shrink-0 p-4">
            <div class="flex items-center space-x-3 mb-8 px-2">
                <a href="index.html"><img src="logo.svg" alt="TCP" class="w-10 h-10 object-contain"></a>
                <div>
                    <a href="index.html"><h1 class="orbitron text-xl font-bold gradient-text">TCP</h1></a>
                    <p class="orbitron text-xs text-gray-400">Admin Panel</p>
                </div>
            </div>

            <nav class="space-y-4">
                <div>
                    <h3 class="px-4 mb-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">Dashboard</h3>
                    <a href="admin.html" class="sidebar-link">
                        <i class="fas fa-home"></i><span class="ml-2">Overview</span>
                    </a>
                </div>

                <div>
                    <h3 class="px-4 mb-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">Page Management</h3>
                    <a href="admin_main.html" class="sidebar-link"><i class="fas fa-file-alt"></i><span class="ml-2">Main Page</span></a>
                    <a href="admin_recruitment.html" class="sidebar-link"><i class="fas fa-bullhorn"></i><span class="ml-2">Recruitment Page</span></a>
                    <a href="admin_announcement.html" class="sidebar-link"><i class="fas fa-newspaper"></i><span class="ml-2">Announcement Page</span></a>
                    <a href="admin_study.html" class="sidebar-link"><i class="fas fa-book"></i><span class="ml-2">Study Group Page</span></a>
                    <a href="admin_team.html" class="sidebar-link"><i class="fas fa-users"></i><span class="ml-2">Project Team Page</span></a>
                </div>

                <div>
                    <h3 class="px-4 mb-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">Account Management</h3>
                    <a href="admin_permission.html" class="sidebar-link"><i class="fas fa-user-shield"></i><span class="ml-2">Manage Permissions</span></a>
                    <a href="admin_deletaccount.html" class="sidebar-link"><i class="fas fa-user-slash"></i><span class="ml-2">Delete Accounts</span></a>
                    <a href="#" class="sidebar-link"><i class="fas fa-database"></i><span class="ml-2">Modify Information</span></a>
                </div>

                <div>
                    <h3 class="px-4 mb-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">Application Management</h3>
                    <a href="admin_applicationmanagement.html" class="sidebar-link bg-gray-700 text-white"><i class="fas fa-user-plus"></i><span class="ml-2">New Member Applications</span></a>
                </div>

                <div>
                    <h3 class="px-4 mb-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">Web Server Management</h3>
                    <a href="#" class="sidebar-link"><i class="fas fa-server"></i><span class="ml-2">Server Tools</span></a>
                </div>
            </nav>
        </aside>

        <div class="flex-1 flex flex-col main-content">
            <header class="flex-shrink-0 bg-black bg-opacity-90 backdrop-blur-md border-b border-gray-800">
                <div class="container mx-auto px-4">
                    <div class="flex items-center justify-between h-16">
                        <button id="sidebar-toggle" class="md:hidden text-white">
                            <i class="fas fa-bars text-xl"></i>
                        </button>
                        
                        <h2 class="orbitron text-2xl font-bold text-white hidden md:block">Application Management</h2>

                        <div class="flex items-center space-x-4">
                            <button class="text-gray-400 hover:text-white"><i class="fas fa-bell"></i></button>
                            <div class="flex items-center space-x-2">
                                <a href="mypage.html"><img src="https://i.pravatar.cc/40?u=admin" alt="Admin" class="w-8 h-8 rounded-full"></a>
                                <a href="mypage.html"><span class="text-sm font-medium">Admin Kim</span></a>
                            </div>
                            <button class="px-4 py-2 text-sm border border-gray-600 rounded-lg hover:border-gray-400 transition-colors">로그아웃</button>
                        </div>
                    </div>
                </div>
            </header>

            <main class="flex-1 bg-primary-black p-6">
                <div class="container mx-auto max-w-7xl">
                    <!-- Statistics Dashboard -->
                    <section class="mb-8">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-3xl font-bold gradient-text">지원서 현황</h3>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                            <div class="widget-card p-6 rounded-xl">
                                <h4 class="font-bold text-lg mb-4 text-blue-300">전체 지원서</h4>
                                <div class="text-4xl font-black gradient-text mb-4" id="totalApplications">42</div>
                                <ul class="text-sm text-gray-300 space-y-2">
                                    <li class="flex justify-between"><span>신규</span><span class="font-semibold text-blue-400" id="newApplications">8</span></li>
                                    <li class="flex justify-between"><span>검토중</span><span class="font-semibold text-yellow-400" id="reviewingApplications">15</span></li>
                                </ul>
                            </div>
                            
                            <div class="widget-card p-6 rounded-xl">
                                <h4 class="font-bold text-lg mb-4 text-green-300">합격</h4>
                                <div class="text-4xl font-black gradient-text mb-4" id="acceptedCount">12</div>
                                <ul class="text-sm text-gray-300 space-y-2">
                                    <li class="flex justify-between"><span>최종 합격</span><span class="font-semibold text-green-400" id="finalAccepted">10</span></li>
                                    <li class="flex justify-between"><span>조건부 합격</span><span class="font-semibold text-yellow-400" id="conditionalAccepted">2</span></li>
                                </ul>
                            </div>

                            <div class="widget-card p-6 rounded-xl">
                                <h4 class="font-bold text-lg mb-4 text-yellow-300">대기</h4>
                                <div class="text-4xl font-black gradient-text mb-4" id="pendingCount">8</div>
                                <ul class="text-sm text-gray-300 space-y-2">
                                    <li class="flex justify-between"><span>1차 대기</span><span class="font-semibold text-white" id="pending1st">5</span></li>
                                    <li class="flex justify-between"><span>2차 대기</span><span class="font-semibold text-white" id="pending2nd">3</span></li>
                                </ul>
                            </div>

                            <div class="widget-card p-6 rounded-xl">
                                <h4 class="font-bold text-lg mb-4 text-red-300">불합격</h4>
                                <div class="text-4xl font-black gradient-text mb-4" id="rejectedCount">10</div>
                                <ul class="text-sm text-gray-300 space-y-2">
                                    <li class="flex justify-between"><span>서류 탈락</span><span class="font-semibold text-white" id="documentRejected">6</span></li>
                                    <li class="flex justify-between"><span>면접 탈락</span><span class="font-semibold text-white" id="interviewRejected">4</span></li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <!-- Search and Filter -->
                    <section class="mb-8">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-3xl font-bold gradient-text">지원서 검색 및 필터</h3>
                        </div>
                        <div class="search-filter-card p-6 rounded-xl">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-300 mb-2">이름/학번/닉네임 검색</label>
                                    <div class="relative">
                                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                        <input 
                                            type="text" 
                                            id="searchInput" 
                                            class="form-input pl-10" 
                                            placeholder="검색어를 입력하세요..."
                                        >
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-300 mb-2">심사 상태</label>
                                    <select id="statusFilter" class="form-input">
                                        <option value="">전체 상태</option>
                                        <option value="pending">대기</option>
                                        <option value="reviewed">검토 완료</option>
                                        <option value="accepted">합격</option>
                                        <option value="rejected">불합격</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-300 mb-2">전공 분야</label>
                                    <select id="majorFilter" class="form-input">
                                        <option value="">전체 전공</option>
                                        <option value="컴퓨터공학과">컴퓨터공학과</option>
                                        <option value="전자IT미디어공학과">전자IT미디어공학과</option>
                                        <option value="기계시스템디자인공학과">기계시스템디자인공학과</option>
                                        <option value="산업공학과">산업공학과</option>
                                        <option value="기타">기타</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Applications Table -->
                    <section class="mb-8">
                        <div class="widget-card rounded-xl overflow-hidden">
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead class="bg-gray-800">
                                        <tr>
                                            <th class="p-4 text-left">지원자 정보</th>
                                            <th class="p-4 text-left">전공</th>
                                            <th class="p-4 text-left">제출일시</th>
                                            <th class="p-4 text-left">심사 상태</th>
                                            <th class="p-4 text-left">작업</th>
                                        </tr>
                                    </thead>
                                    <tbody id="applicationsTable">
                                        <!-- Application rows will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </section>

                    <!-- Pagination -->
                    <section class="mb-8">
                        <div class="flex justify-center items-center space-x-2" id="pagination">
                            <!-- Pagination buttons will be populated by JavaScript -->
                        </div>
                    </section>
                </div>
            </main>
        </div>
    </div>

    <!-- Application Detail Modal -->
    <div id="applicationModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" id="closeModal">
                <i class="fas fa-times"></i>
            </button>
            <div class="p-8">
                <h2 class="text-2xl font-bold gradient-text mb-6 text-center">지원서 상세 정보</h2>
                <div id="applicationDetails">
                    <!-- Application details will be populated by JavaScript -->
                </div>
                
                <!-- Admin Comment Section -->
                <div class="mt-8 pt-6 border-t border-gray-600">
                    <h4 class="text-lg font-bold mb-4 text-blue-300">관리자 검토 의견</h4>
                    <div class="mb-4">
                        <label class="form-label" for="adminComment">내부 검토 의견</label>
                        <textarea 
                            id="adminComment" 
                            class="form-input form-textarea" 
                            placeholder="이 지원자에 대한 검토 의견을 작성하세요..."
                        ></textarea>
                    </div>
                    <button class="btn-primary text-sm mb-6" onclick="saveComment()">
                        <i class="fas fa-save mr-1"></i>
                        의견 저장
                    </button>
                </div>

                <!-- Decision Controls -->
                <div class="mt-6 pt-6 border-t border-gray-600">
                    <h4 class="text-lg font-bold mb-4 text-purple-300">심사 결정</h4>
                    <div class="flex flex-wrap gap-3">
                        <button class="btn-primary text-sm" onclick="updateStatus('reviewed')">
                            <i class="fas fa-check mr-1"></i>
                            검토 완료
                        </button>
                        <button class="btn-success text-sm" onclick="updateStatus('accepted')">
                            <i class="fas fa-thumbs-up mr-1"></i>
                            합격
                        </button>
                        <button class="btn-warning text-sm" onclick="updateStatus('pending')">
                            <i class="fas fa-clock mr-1"></i>
                            대기
                        </button>
                        <button class="btn-danger text-sm" onclick="updateStatus('rejected')">
                            <i class="fas fa-thumbs-down mr-1"></i>
                            불합격
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample application data
        let applications = [
            {
                id: 1,
                name: '김민준',
                nickname: 'minjun_dev',
                studentId: '20241234',
                major: '컴퓨터공학과',
                phone: '010-1234-5678',
                techStacks: ['React', 'JavaScript', 'Node.js', 'Python'],
                awards: [
                    { name: '해커톤 대상', org: '서울과학기술대학교', date: '2024-03', desc: 'AI 기반 학습 관리 시스템 개발' }
                ],
                projects: [
                    { name: '온라인 학습 플랫폼', target: '개인 프로젝트', participation: 100, tech: 'React, Node.js, MongoDB', date: '2024-02', desc: '학생들을 위한 온라인 학습 관리 시스템' }
                ],
                interests: '웹 개발, AI/ML, 오픈소스 기여',
                selfIntroduction: '안녕하세요! 컴퓨터공학과 김민준입니다. 새로운 기술을 배우고 적용하는 것을 좋아하며, 팀 프로젝트를 통해 협업 능력을 키우고 싶습니다.',
                expectations: 'TCP에서 다양한 프로젝트 경험을 쌓고, 선배들과의 멘토링을 통해 실무 역량을 키우고 싶습니다.',
                submitDate: '2024-01-15T10:30:00',
                status: 'pending',
                comment: ''
            },
            {
                id: 2,
                name: '이서연',
                nickname: 'seoyeon_ai',
                studentId: '20241235',
                major: '전자IT미디어공학과',
                phone: '010-2345-6789',
                techStacks: ['Python', 'TensorFlow', 'PyTorch', 'AI/ML'],
                awards: [],
                projects: [
                    { name: '이미지 분류 모델', target: '학교 과제', participation: 80, tech: 'Python, TensorFlow', date: '2024-01', desc: 'CNN을 이용한 이미지 분류 모델 구현' }
                ],
                interests: 'AI/ML, 컴퓨터 비전, 자연어 처리',
                selfIntroduction: 'AI에 관심이 많은 전자IT미디어공학과 학생입니다. 머신러닝과 딥러닝 기술을 활용한 프로젝트를 해보고 싶습니다.',
                expectations: 'AI 프로젝트 팀에 참여하여 실제 서비스에 적용할 수 있는 AI 모델을 개발하고 싶습니다.',
                submitDate: '2024-01-16T14:20:00',
                status: 'reviewed',
                comment: 'AI 분야에 대한 열정이 보이며, 기본기가 탄탄합니다.'
            },
            {
                id: 3,
                name: '박지훈',
                nickname: 'jihun_backend',
                studentId: '20241236',
                major: '컴퓨터공학과',
                phone: '010-3456-7890',
                techStacks: ['Java', 'Spring', 'MySQL', 'Docker'],
                awards: [
                    { name: '프로그래밍 대회 우수상', org: '한국정보올림피아드', date: '2023-11', desc: '알고리즘 문제 해결 부문' }
                ],
                projects: [
                    { name: 'REST API 서버', target: '개인 프로젝트', participation: 100, tech: 'Java, Spring Boot, MySQL', date: '2023-12', desc: '게시판 기능을 제공하는 REST API 서버' }
                ],
                interests: '백엔드 개발, 시스템 아키텍처, 데이터베이스',
                selfIntroduction: '백엔드 개발에 관심이 많은 컴퓨터공학과 학생입니다. 안정적이고 확장 가능한 시스템을 구축하는 것이 목표입니다.',
                expectations: '대규모 프로젝트의 백엔드 개발에 참여하여 실무 경험을 쌓고 싶습니다.',
                submitDate: '2024-01-17T09:15:00',
                status: 'accepted',
                comment: '백엔드 개발 실력이 뛰어나며 팀 프로젝트에 적극적으로 기여할 것으로 예상됩니다.'
            },
            {
                id: 4,
                name: '최예원',
                nickname: 'yewon_mobile',
                studentId: '20241237',
                major: '산업공학과',
                phone: '010-4567-8901',
                techStacks: ['Flutter', 'Dart', 'Firebase', 'Swift'],
                awards: [],
                projects: [
                    { name: '할일 관리 앱', target: '개인 프로젝트', participation: 100, tech: 'Flutter, Firebase', date: '2024-01', desc: '개인 할일을 관리할 수 있는 모바일 앱' }
                ],
                interests: '모바일 앱 개발, UI/UX 디자인',
                selfIntroduction: '산업공학과 학생이지만 모바일 앱 개발에 관심이 많습니다. 사용자 친화적인 앱을 만드는 것이 목표입니다.',
                expectations: '다양한 플랫폼의 모바일 앱 개발 경험을 쌓고, UX/UI 디자인 스킬도 함께 키우고 싶습니다.',
                submitDate: '2024-01-18T16:45:00',
                status: 'pending',
                comment: ''
            },
            {
                id: 5,
                name: '정수현',
                nickname: 'suhyun_frontend',
                studentId: '20241238',
                major: '컴퓨터공학과',
                phone: '010-5678-9012',
                techStacks: ['Vue.js', 'JavaScript', 'TypeScript', 'CSS'],
                awards: [],
                projects: [
                    { name: '포트폴리오 웹사이트', target: '개인 프로젝트', participation: 100, tech: 'Vue.js, CSS3', date: '2023-12', desc: '개인 포트폴리오를 소개하는 반응형 웹사이트' }
                ],
                interests: '프론트엔드 개발, 웹 디자인, 사용자 경험',
                selfIntroduction: '사용자와 직접 만나는 프론트엔드 개발에 매력을 느끼고 있습니다. 아름답고 직관적인 UI를 만드는 것을 좋아합니다.',
                expectations: '최신 프론트엔드 기술을 학습하고, 실제 서비스 개발에 참여하여 사용자들에게 좋은 경험을 제공하고 싶습니다.',
                submitDate: '2024-01-19T11:20:00',
                status: 'rejected',
                comment: '기본기는 있으나 현재 모집 인원이 마감되었습니다. 다음 기회에 재지원을 권장합니다.'
            }
        ];

        let currentPage = 1;
        const itemsPerPage = 10;
        let currentApplicationId = null;

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            initializePage();
            setupEventListeners();
            renderTable();
            updateStatistics();
        });

        function initializePage() {
            // Mobile sidebar toggle
            const sidebar = document.getElementById('sidebar');
            const sidebarToggle = document.getElementById('sidebar-toggle');
            if (sidebarToggle) {
                sidebarToggle.addEventListener('click', () => {
                    sidebar.classList.toggle('open');
                });
            }
        }

        function setupEventListeners() {
            // Search and filter
            document.getElementById('searchInput').addEventListener('input', filterApplications);
            document.getElementById('statusFilter').addEventListener('change', filterApplications);
            document.getElementById('majorFilter').addEventListener('change', filterApplications);

            // Modal
            const modal = document.getElementById('applicationModal');
            const closeModal = document.getElementById('closeModal');
            
            closeModal.addEventListener('click', () => {
                modal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });
        }

        function renderTable() {
            const tbody = document.getElementById('applicationsTable');
            tbody.innerHTML = '';

            const filteredApplications = getFilteredApplications();
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const pageApplications = filteredApplications.slice(startIndex, endIndex);
            
            pageApplications.forEach(app => {
                const row = createTableRow(app);
                tbody.appendChild(row);
            });

            renderPagination(filteredApplications.length);
        }

        function getFilteredApplications() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const statusValue = document.getElementById('statusFilter').value;
            const majorValue = document.getElementById('majorFilter').value;

            return applications.filter(app => {
                const searchMatch = app.name.toLowerCase().includes(searchTerm) || 
                                  app.studentId.toLowerCase().includes(searchTerm) ||
                                  app.nickname.toLowerCase().includes(searchTerm);
                const statusMatch = !statusValue || app.status === statusValue;
                const majorMatch = !majorValue || app.major === majorValue;

                return searchMatch && statusMatch && majorMatch;
            }).sort((a, b) => new Date(b.submitDate) - new Date(a.submitDate));
        }

        function createTableRow(app) {
            const row = document.createElement('tr');
            row.className = 'table-row';
            
            const statusClass = `status-${app.status}`;
            const statusText = {
                'pending': '대기',
                'reviewed': '검토 완료',
                'accepted': '합격',
                'rejected': '불합격'
            };

            const submitDate = new Date(app.submitDate).toLocaleString('ko-KR');

            row.innerHTML = `
                <td class="p-4">
                    <div class="font-semibold text-white">${app.name}</div>
                    <div class="text-sm text-gray-400">@${app.nickname}</div>
                    <div class="text-xs text-gray-500 mt-1">학번: ${app.studentId}</div>
                </td>
                <td class="p-4">
                    <div class="text-white font-medium">${app.major}</div>
                </td>
                <td class="p-4">
                    <div class="text-white">${submitDate}</div>
                </td>
                <td class="p-4">
                    <span class="status-badge ${statusClass}">${statusText[app.status]}</span>
                </td>
                <td class="p-4">
                    <button class="px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700" onclick="viewApplication(${app.id})">
                        <i class="fas fa-eye mr-1"></i>상세 보기
                    </button>
                </td>
            `;

            return row;
        }

        function renderPagination(totalItems) {
            const totalPages = Math.ceil(totalItems / itemsPerPage);
            const pagination = document.getElementById('pagination');
            pagination.innerHTML = '';

            // Previous button
            const prevBtn = document.createElement('button');
            prevBtn.className = 'pagination-btn';
            prevBtn.innerHTML = '<i class="fas fa-chevron-left"></i>';
            prevBtn.disabled = currentPage === 1;
            prevBtn.onclick = () => changePage(currentPage - 1);
            pagination.appendChild(prevBtn);

            // Page numbers
            for (let i = 1; i <= totalPages; i++) {
                const pageBtn = document.createElement('button');
                pageBtn.className = `pagination-btn ${i === currentPage ? 'active' : ''}`;
                pageBtn.textContent = i;
                pageBtn.onclick = () => changePage(i);
                pagination.appendChild(pageBtn);
            }

            // Next button
            const nextBtn = document.createElement('button');
            nextBtn.className = 'pagination-btn';
            nextBtn.innerHTML = '<i class="fas fa-chevron-right"></i>';
            nextBtn.disabled = currentPage === totalPages;
            nextBtn.onclick = () => changePage(currentPage + 1);
            pagination.appendChild(nextBtn);
        }

        function changePage(page) {
            const totalPages = Math.ceil(getFilteredApplications().length / itemsPerPage);
            if (page >= 1 && page <= totalPages) {
                currentPage = page;
                renderTable();
            }
        }

        function filterApplications() {
            currentPage = 1;
            renderTable();
        }

        function updateStatistics() {
            const total = applications.length;
            const pending = applications.filter(a => a.status === 'pending').length;
            const reviewed = applications.filter(a => a.status === 'reviewed').length;
            const accepted = applications.filter(a => a.status === 'accepted').length;
            const rejected = applications.filter(a => a.status === 'rejected').length;
            
            document.getElementById('totalApplications').textContent = total;
            document.getElementById('newApplications').textContent = pending;
            document.getElementById('reviewingApplications').textContent = reviewed;
            document.getElementById('acceptedCount').textContent = accepted;
            document.getElementById('pendingCount').textContent = pending;
            document.getElementById('rejectedCount').textContent = rejected;
            
            // Fake additional statistics
            document.getElementById('finalAccepted').textContent = Math.floor(accepted * 0.8);
            document.getElementById('conditionalAccepted').textContent = Math.ceil(accepted * 0.2);
            document.getElementById('pending1st').textContent = Math.floor(pending * 0.6);
            document.getElementById('pending2nd').textContent = Math.ceil(pending * 0.4);
            document.getElementById('documentRejected').textContent = Math.floor(rejected * 0.6);
            document.getElementById('interviewRejected').textContent = Math.ceil(rejected * 0.4);
        }

        function viewApplication(appId) {
            const app = applications.find(a => a.id === appId);
            if (!app) return;

            currentApplicationId = appId;
            
            const modal = document.getElementById('applicationModal');
            const details = document.getElementById('applicationDetails');
            const adminComment = document.getElementById('adminComment');

            // Tech stacks display
            const techStacksDisplay = app.techStacks.map(tech => 
                `<span class="tech-tag">${tech}</span>`
            ).join('');

            // Awards display
            const awardsDisplay = app.awards.length > 0 ? 
                app.awards.map(award => `
                    <div class="mb-3 p-3 bg-gray-800 rounded-lg">
                        <div class="font-semibold text-blue-300">${award.name}</div>
                        <div class="text-sm text-gray-400">주최: ${award.org} | 수상일: ${award.date}</div>
                        <div class="text-sm text-gray-300 mt-1">${award.desc}</div>
                    </div>
                `).join('') : '<p class="text-gray-400">수상 경력이 없습니다.</p>';

            // Projects display
            const projectsDisplay = app.projects.length > 0 ?
                app.projects.map(project => `
                    <div class="mb-3 p-3 bg-gray-800 rounded-lg">
                        <div class="font-semibold text-green-300">${project.name}</div>
                        <div class="text-sm text-gray-400">대상: ${project.target} | 참여도: ${project.participation}% | 기간: ${project.date}</div>
                        <div class="text-sm text-blue-300 mt-1">기술: ${project.tech}</div>
                        <div class="text-sm text-gray-300 mt-1">${project.desc}</div>
                    </div>
                `).join('') : '<p class="text-gray-400">프로젝트 경험이 없습니다.</p>';

            details.innerHTML = `
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="form-label">이름</label>
                        <div class="p-3 bg-gray-800 rounded text-white">${app.name}</div>
                    </div>
                    <div>
                        <label class="form-label">학번</label>
                        <div class="p-3 bg-gray-800 rounded text-white">${app.studentId}</div>
                    </div>
                    <div>
                        <label class="form-label">전공</label>
                        <div class="p-3 bg-gray-800 rounded text-white">${app.major}</div>
                    </div>
                    <div>
                        <label class="form-label">전화번호</label>
                        <div class="p-3 bg-gray-800 rounded text-white">${app.phone}</div>
                    </div>
                </div>

                <div class="mb-6">
                    <label class="form-label">기술 스택</label>
                    <div class="p-3 bg-gray-800 rounded">
                        ${techStacksDisplay}
                    </div>
                </div>

                <div class="mb-6">
                    <label class="form-label">수상 경력</label>
                    <div class="bg-gray-800 rounded p-3">
                        ${awardsDisplay}
                    </div>
                </div>

                <div class="mb-6">
                    <label class="form-label">프로젝트 경험</label>
                    <div class="bg-gray-800 rounded p-3">
                        ${projectsDisplay}
                    </div>
                </div>

                <div class="mb-6">
                    <label class="form-label">관심 분야</label>
                    <div class="p-3 bg-gray-800 rounded text-white">${app.interests}</div>
                </div>

                <div class="mb-6">
                    <label class="form-label">자기소개</label>
                    <div class="p-3 bg-gray-800 rounded text-white whitespace-pre-wrap">${app.selfIntroduction}</div>
                </div>

                <div class="mb-6">
                    <label class="form-label">TCP에 대한 기대</label>
                    <div class="p-3 bg-gray-800 rounded text-white whitespace-pre-wrap">${app.expectations}</div>
                </div>
            `;

            adminComment.value = app.comment || '';

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function saveComment() {
            if (!currentApplicationId) return;
            
            const comment = document.getElementById('adminComment').value;
            const app = applications.find(a => a.id === currentApplicationId);
            
            if (app) {
                app.comment = comment;
                showNotification('검토 의견이 저장되었습니다.', 'success');
            }
        }

        function updateStatus(newStatus) {
            if (!currentApplicationId) return;
            
            const app = applications.find(a => a.id === currentApplicationId);
            const statusText = {
                'pending': '대기',
                'reviewed': '검토 완료',
                'accepted': '합격',
                'rejected': '불합격'
            };
            
            if (app && confirm(`이 지원자의 상태를 "${statusText[newStatus]}"로 변경하시겠습니까?`)) {
                app.status = newStatus;
                renderTable();
                updateStatistics();
                showNotification(`상태가 "${statusText[newStatus]}"로 변경되었습니다.`, 'success');
                
                // Close modal
                const modal = document.getElementById('applicationModal');
                modal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        }

        // Notification system
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 px-6 py-3 rounded-lg text-white z-50 transition-opacity ${
                type === 'success' ? 'bg-green-600' : 
                type === 'error' ? 'bg-red-600' : 
                type === 'warning' ? 'bg-yellow-600' : 'bg-blue-600'
            }`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
    </script>
</body>
</html>
